webpackJsonp([7],{"IA/S":function(r,o){},o77C:function(r,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=e("gyMJ"),a={name:"setGroup",data:function(){return{groupForm:{groupName:"",groupDesc:""},InmageUrl:"",groupImage:"/img/zwsj5.png",groupRules:{groupName:[{validator:function(r,o,e){if(""===o)e(new Error("请输入群名称"));else{if(!/^[\u4e00-\u9fa5_a-zA-Z0-9!！￥@#$,，.。？?、/;:：；|~·]{2,10}$/.test(o))return void e(new Error("请输入2~10位中文、数字、字母、下划线"));e()}},trigger:"blur"}],groupDesc:[{validator:function(r,o,e){if(""===o)e(new Error("请输入群简介"));else{if(o.length>200)return void e(new Error("请输入不超过200位字符"));e()}},trigger:"blur"}]},showCrop:!1,cropUrl:""}},components:{cropper:e("GR0b").default},methods:{setShowCrop:function(){this.showCrop=!0,this.cropUrl=""+this.groupImage},handleClose:function(r){this.cropUrl="",r()},getAvatar:function(r){this.groupImage=r,this.showCrop=!1},setUp:function(){var r=this;this.$refs.groupForm.validate(function(o){if(!o)return!1;var e={groupImage:r.groupImage,groupName:r.groupForm.groupName,groupDesc:r.groupForm.groupDesc};t.a.createGroup(e).then(function(o){0===o.code?(r.$message.success("创建成功"),r.$router.push("/personalMain/group/ownGroup")):r.$message.success("创建成功")})})}}},s={render:function(){var r=this,o=r.$createElement,e=r._self._c||o;return e("div",{staticClass:"vChat-setGroup"},[e("p",{staticClass:"back"},[e("router-link",{attrs:{to:"/personalMain/group/ownGroup"}},[e("v-icon",{attrs:{name:"fanhui",cursor:"pointer"}})],1),r._v(" "),e("span",[r._v("新建群聊")])],1),r._v(" "),e("el-form",{ref:"groupForm",staticClass:"groupForm",attrs:{"label-width":"65px",rules:r.groupRules,model:r.groupForm}},[e("el-form-item",{attrs:{label:"群头像"}},[e("div",{staticClass:"avatar-container",on:{click:r.setShowCrop}},[r.groupImage?e("img",{staticClass:"avatar",attrs:{src:r.InmageUrl+r.groupImage}}):e("i",{staticClass:"el-icon-plus"})])]),r._v(" "),e("el-form-item",{attrs:{label:"群名称",prop:"groupName"}},[e("el-input",{attrs:{placeholder:"名称"},model:{value:r.groupForm.groupName,callback:function(o){r.$set(r.groupForm,"groupName",o)},expression:"groupForm.groupName"}})],1),r._v(" "),e("el-form-item",{attrs:{label:"群简介",prop:"groupDesc"}},[e("el-input",{attrs:{placeholder:"请输入不超过200个字符",type:"textarea",aotusize:"",resize:"none",maxlength:200},model:{value:r.groupForm.groupDesc,callback:function(o){r.$set(r.groupForm,"groupDesc",o)},expression:"groupForm.groupDesc"}})],1)],1),r._v(" "),e("button",{staticClass:"Vchat-full-button",on:{click:r.setUp}},[r._v("创建")]),r._v(" "),e("el-dialog",{attrs:{visible:r.showCrop,width:"700px","before-close":r.handleClose},on:{"update:visible":function(o){r.showCrop=o}}},[e("cropper",{attrs:{url:r.cropUrl},on:{avatar:r.getAvatar}})],1)],1)},staticRenderFns:[]};var u=e("C7Lr")(a,s,!1,function(r){e("IA/S")},"data-v-71bbd0b6",null);o.default=u.exports}});